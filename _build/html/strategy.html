
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>strategy &#8212; algotrading 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="portfolio" href="portfolio.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-strategy">
<span id="strategy"></span><h1>strategy<a class="headerlink" href="#module-strategy" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="strategy.BollingerBandJohansenStrategy">
<em class="property">class </em><code class="sig-prename descclassname">strategy.</code><code class="sig-name descname">BollingerBandJohansenStrategy</code><span class="sig-paren">(</span><em class="sig-param">bars</em>, <em class="sig-param">events</em>, <em class="sig-param">enter</em>, <em class="sig-param">exit</em>, <em class="sig-param">start_date</em><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BollingerBandJohansenStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses a Johansen test to create a mean reverting portfolio,
and uses bollinger bands strategy using resuling hedge ratios.</p>
<dl class="method">
<dt id="strategy.BollingerBandJohansenStrategy._current_portfolio_price">
<code class="sig-name descname">_current_portfolio_price</code><span class="sig-paren">(</span><em class="sig-param">price_type</em><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BollingerBandJohansenStrategy._current_portfolio_price" title="Permalink to this definition">¶</a></dt>
<dd><p>generates the current portfolio price of price_type</p>
<p>Parameters:
:param price_type: price type (open, close, high, low)
:type price_type: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current portfolio price</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="strategy.BollingerBandJohansenStrategy._find_stationary_portfolio">
<code class="sig-name descname">_find_stationary_portfolio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BollingerBandJohansenStrategy._find_stationary_portfolio" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates through s&amp;p stocks sorted by oldest, creating combinations of
12 stock large portfolios. Generates a hedge ratio for each of these
portfolios and checks if it creates a stationary time series. If it
does, will return the hedge ratio, otherwise, will exit program</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>hedge ratio</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="strategy.BollingerBandJohansenStrategy._order_portfolio">
<code class="sig-name descname">_order_portfolio</code><span class="sig-paren">(</span><em class="sig-param">direction</em><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BollingerBandJohansenStrategy._order_portfolio" title="Permalink to this definition">¶</a></dt>
<dd><p>creates signal event to order all symbols in symbol list
with given direction and strength based on hedge ratio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>direction</strong> (<em>str</em>) – direction of signal (‘LONG’, ‘SHORT’, ‘EXIT’)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="strategy.BollingerBandJohansenStrategy.calculate_signals">
<code class="sig-name descname">calculate_signals</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BollingerBandJohansenStrategy.calculate_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates how many standard deviations away
the current bar is from rolling average of the portfolio.
If goes above or below defined entry and exit point, will
long, short, or exit portfolio accordingly. If portfolio is no
longer stationary, will exit all positions and find new stationary
portfolio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference internal" href="event.html#event.Event" title="event.Event"><em>Event</em></a>) – Event object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="strategy.BuyAndHoldStrategy">
<em class="property">class </em><code class="sig-prename descclassname">strategy.</code><code class="sig-name descname">BuyAndHoldStrategy</code><span class="sig-paren">(</span><em class="sig-param">bars</em>, <em class="sig-param">events</em><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BuyAndHoldStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an extremely simple strategy that goes LONG all of the
symbols as soon as a bar is received. It will never exit a position</p>
<p>It is primarily used as a testing mechanism for the Strategy class
as well as a benchmark upon which to compare other strategies.</p>
<dl class="method">
<dt id="strategy.BuyAndHoldStrategy._calculate_initial_bought">
<code class="sig-name descname">_calculate_initial_bought</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BuyAndHoldStrategy._calculate_initial_bought" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds keys to the bought dictionary for all symbols
and sets them to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dictionary of booleans for whether symbol has         been bought or not</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="strategy.BuyAndHoldStrategy.calculate_signals">
<code class="sig-name descname">calculate_signals</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#strategy.BuyAndHoldStrategy.calculate_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>For “Buy and Hold” we generate a single signal per symbol
and then no additional signals. This means we are
constantly long the market from the date of strategy
initialisation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference internal" href="event.html#event.MarketEvent" title="event.MarketEvent"><em>MarketEvent</em></a>) – A MarketEvent object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="strategy.Strategy">
<em class="property">class </em><code class="sig-prename descclassname">strategy.</code><code class="sig-name descname">Strategy</code><a class="headerlink" href="#strategy.Strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Strategy is an abstract base class providing an interface for
all subsequent (inherited) strategy handling objects.</p>
<p>The goal of a (derived) Strategy object is to generate Signal
objects for a particular symbols based on the inputs of Bars
(OLHCVI) generated by a DataHandler object.</p>
<p>This is designed to work both with historic and live data as
the Strategy object is agnostic to the data source,
since it obtains the bar tuples from a queue object.</p>
<dl class="method">
<dt id="strategy.Strategy.calculate_signals">
<em class="property">abstract </em><code class="sig-name descname">calculate_signals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#strategy.Strategy.calculate_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the mechanisms to calculate the list of signals.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">algotrading</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data.html">data</a></li>
<li class="toctree-l1"><a class="reference internal" href="event.html">event</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio.html">portfolio</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">strategy</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="portfolio.html" title="previous chapter">portfolio</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Davis Owen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/strategy.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>